<title>The Priest Mathematician</title>
<style>
    body{
        font-size: 12pt;
        line-height: 20pt;
        font-family:Times New Roman
    }
    .Title{
        font-size: 24pt;
        text-align: center;
        margin-bottom: 5px;
    }
    .Time_Limit{
        font-size: 12pt;
        text-align: center;
        margin-bottom: 20px;
    }
    .IOFormat{
        background: #ffff00;
        line-height: 15pt;
        margin-top: 8px;
        margin-bottom: 8px;
        padding-left: 3px;
    }
    .Description{}
    .IODescription{
        line-height: 15pt;
        font-family:Courier New
    }
    .note{
        font-color: #ffff00;
        background: #000000;
    }
</style>
<div class="Title">Q10254: The Priest Mathematician</div>
E. Lucas 在 1883 年創造的<b>"Towers of Hanoi"</b>難題背後的古老民間傳說是很有名的。一個最近的傳說告訴我們在 Benares 的 Brahmin 和尚們絕不相信，在他們把 64 片盤子從一個柱子全部搬到另外一個的那一刻，世界就會毀滅，所以他們決定要儘快完成這個工作。
<p class="MsoNormal" style="text-align: center;" align="center"><img src="http://acm.uva.es/p/v102/p10254b.jpg" v:shapes="_x0000_i1025" height="249" width="467"></p>

<p class="MsoNormal" style="text-align: center;" align="center"><b>圖片：四根柱子的 Tower of Hanoi</b></p>

一個在 Benares 神殿的的祭司（他喜歡數學）跟他的同事保證，如果用一個額外的柱子，就可以在下午完成搬運（他們認為每秒可以搬一個盤子）。他們不相信他，但是他向他們提出以下策略：
<p>
-- 把最上面的 <b>k</b> 個盤子搬到備用的柱子。<br>
-- 然後用原本的三個柱子的策略去把剩下的 <b>n-k</b> 的盤子搬到他們的目標。<br>
-- 最後用四個柱子把最上面的 <b>k</b> 個盤子搬到目標。
<p>
他計算 <b>k</b> 的值使得移動的次數最少，結果是總共 <b>18433</b> 次，所以他們只要花 <b>5</b> 個小時 <b>7</b> 分 <b>13</b> 秒，比不用一個額外柱子的 <b>5000</b> 億年（他們要搬 <b>2^64-1</b> 次盤子，你相信嗎？）好多了。
<p>
試著照這個聰明的祭司的策略計算用四個柱子要搬幾次。根據 Brahma 固定不變的法律，一次只能移動一個盤子，而且不能放在比較小的盤子上面。當然，主要的目標是計算 使搬移次數（就算不確定這是不是最佳的移動次數）最少的 <b>k</b>。

<div class="IOFormat"><b>Input</b></div>
輸入檔包含很多行輸入，每行都有一個整數 N，表示要搬的盤子數量。這裡 0<=N<=10000。Input 以 end-of-file 結束。

<div class="IOFormat"><b>Output</b></div>
對每行輸入輸出一行把 N 個盤子搬到最後的柱子需要搬動幾次。
</div>
<table border="1" width="100%">
  <tbody>
  <tr>
  <td bgcolor="#00ff00" width="50%" height="1"><b>Sample Input</b></div></td>
  <td bgcolor="#00ff00" width="50%" height="1"><b>Sample Output</b></div></td>
  </tr>
  <tr>
    <td width="50%" valign="top">
      <div class="IODescription"><pre>1
2
28
64</pre></div>
    </td>
    <td width="50%" valign="top">
      <div class="IODescription"><pre>1
3
769
18433</pre></div>
    </td>
  </tr>
</tbody></table>
<font color="#ffff00" face="courier new"><span style="background-color: #000000">Translated by DarkKnight</span></font>